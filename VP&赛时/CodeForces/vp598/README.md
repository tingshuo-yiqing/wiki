## 赛后复盘

ABD中规中矩，C是计算几何的卡精度题目，学到了很多。

### **A. Tricky Sum**

求 $1$ 到 $N$ 的和，但是如果是 $2$ 的幂要加上它们的负数，  $N$ 最大为 $10^9$ 。使用求和公式求和再 while 循环减去小于等于 $N$ 的 **$2$ 的幂的两倍**即可，仅仅减去 $2$ 的幂是变为 $0$ 。

### **B. Queries on a String**

对子串进行移位操作，可以直接模拟。把对应子串复制两份再其中一份移好位置后再赋值到原串中。

这里可以充分利用 Python 的负数索引和字符串切片功能，当 $k$ 不为 $0$ 时，右移 $k$ 为可以写为: 


$$
sub=sub[-k:]+sub[:-k]
$$


### C. Nearest vectors

极角排序后最值的角度在两两相邻的向量之间。这道题可以使用语言内置的 $\atan2$ 函数排序，但是判断夹角大小时（即作差比较大小）的话精度不够需要**整数域内映射**进行比较。具体操作请查看[题解]()。

### **D. Igor In the Museum**

这里对空格进行查询，每一个空格周围的 $*$ 都是一幅画，不难看出每个空格可以看到的画都是唯一的，不需要判断一个空格会不会看到重复的画。此外每一片相连的空格可以看到的画的数量都是相等的。

如果对查询的每个空格都进行一次 BFS 的话会超时，于是利用刚刚的结论（连通块）使用一个记忆化数组对每次 BFS 后的空格进行一次性的赋值来避免对同属于一个连通块的空格重复 BFS 而导致超时。

### E. Chocolate Bar

区间DP，典型的“拆分型”DP，重点在于理解切一刀后问题变成了两个独立的子问题。

### F. Cut Length

直线与多边形，给一个 $n$ 个顶点的简单多边形，有 $m$ 个询问，每个询问给一条直线，求这条直线落在多边形内部的部分的总长度。

注意边界情况。