## 点积

### 基础概念

1. 定义： $\mathbf{a} \cdot \mathbf{b}=|a||b|\cos\theta$ 
2. 几何意义：向量 $b$ 在向量 $a$ 上的投影与 $a$ 的长度的乘积。
3. 坐标运算： $\mathbf{a} \cdot\mathbf{b}=x_1x_2+y_1y_2$ 
4. 模长计算： $\sqrt{x^2+y^2}$  

点积可以通过余弦定理证明.

### 应用

1. 判断两向量垂直 $\mathbf{a} \cdot \mathbf{b} =0$
2. 判断两向量平行 $\mathbf{a} \cdot \mathbf{b} =|a||b|$
3. 求两向量的夹角 $\cos \theta= \dfrac{\mathbf{a} \cdot \mathbf{b}}{|a||b|}$

具体实现为：

```python
dot = lambda x, y: x[0] * y[0] + x[1] * y[1]

modlen = lambda x: (x[0] ** 2 + x[1] ** 2) ** 0.5

def get_angle(x, y):
    cos_val = dot(x, y) / modlen(x) * modlen(y)
    # 防止精度误差
    cos_val = max(-1.0, min(cos_val, 1.0))
```

## 叉积

### 基础概念

1. 定义： $\mathbf{a} \times \mathbf{b}=|a||b|\sin\theta$ ，其中 $\sin(a,b)$ 是从第一个向量到第二个向量的定向角的正弦值。
2. 几何意义：向量 $a$ 与向量 $b$ 张成的平行四边形的**有向面积**， $b$ 在 $a$ 的逆时针为正，顺时针为负。
3. 坐标运算： $a\times b=x_1y_2-x_2y_1$ 



### 应用

1. 判断点线的位置关系，已知 $a,b,c$ 三点关系
   * $(b-a)\times (c-a)>0 \implies$ $c$ 在直线 $ab$ 左侧
   * $(b-a)\times (c-a)<0 \implies$ $c$ 在直线 $ab$ 右侧
   * $(b-a)\times (c-a)=0 \implies$ 三点共线 

注：两点作差形成的向量指向被减的那个点。

具体实现为：

```python
cross = lambda x, y: x[0] * y[1] - x[1] * y[0]

def is_position(u, v, c):
    p1 = (v[0] - u[0], v[1] - u[1])
    p2 = (c[0] - u[0], c[1] - u[1])
    return cross(p1, p2) >= 0   # 这里可以改变

# https://leetcode.cn/problems/check-if-it-is-a-straight-line/description/
# https://www.luogu.com.cn/problem/SP898
```

2. 判断线线位置关系

   1. 已知直线 $ab$ 和线段 $cd$ 

      * $\text{cross}(a,b,c) \cdot \text{cross}(a,b,d)>0\implies$ 无交点

      * $\text{cross}(a,b,c) \cdot \text{cross}(a,b,d)\le 0\implies$ 有交点

   2. 线段 $ab$ 与线段 $cd$ 无交点

      * 同上，选取一条线段做直线即可，判断差积的乘积大于 $0$ 
      * 即 $\text{cross}(a,b,c) \cdot \text{cross}(a,b,d)>0\implies$ 有交点，或 $\text{cross}(c,d,a) \cdot \text{cross}(c,d,b)>0\implies$ 有交点

   3. 求两直线的交点

      * ​	